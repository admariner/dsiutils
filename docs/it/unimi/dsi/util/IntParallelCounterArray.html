<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Fri May 30 11:52:07 EET 2025 -->
<title>IntParallelCounterArray (dsiutil 2.7.4)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-05-30">
<meta name="description" content="declaration: package: it.unimi.dsi.util, class: IntParallelCounterArray">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">it.unimi.dsi.util</a></div>
<h1 title="Class IntParallelCounterArray" class="title">Class IntParallelCounterArray</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">it.unimi.dsi.util.IntParallelCounterArray</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">IntParallelCounterArray</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></span></div>
<div class="block">An array of approximate sets each represented using a Parallel counter.

 <p>Parallel counters represent the number of elements of a set in an approximate way. They have been
 introduced by Philippe Flajolet, &Eacute;ric Fusy, Olivier Gandouet, and Fre&eacute;de&eacute;ric Meunier in
 &ldquo;Parallel: the analysis of a near-optimal cardinality estimation algorithm&rdquo;,
 <em>Proceedings of the 13th conference on analysis of algorithm (AofA 07)</em>, pages
 127&minus;146, 2007. They are an improvement over the basic idea of <em>loglog counting</em>, introduced by
 Marianne Durand and Philippe Flajolet in &ldquo;Loglog counting of large cardinalities&rdquo;,
 <i>ESA 2003, 11th Annual European Symposium</i>, volume 2832 of Lecture Notes in Computer Science, pages 605&minus;617, Springer, 2003.

 <p>Each counter is composed by <a href="#m"><code>m</code></a> registers, and each register is made of <a href="#registerSize"><code>registerSize</code></a> bits.
 The first number depends on the desired relative standard deviation, and its logarithm can be computed using <a href="#log2NumberOfRegisters(double)"><code>log2NumberOfRegisters(double)</code></a>,
 whereas the second number depends on an upper bound on the number of distinct elements to be counted, and it can be computed
 using <a href="#registerSize(long)"><code>registerSize(long)</code></a>.

 <p>Actually, this class implements an <em>array</em> of counters. Each counter is completely independent, but they all use the same hash function.
 The reason for this design is that in our intended applications hundred of millions of counters are common, and the JVM overhead to create such a number of objects
 would be unbearable. This class allocates an array of <a href="../bits/LongArrayBitVector.html" title="class in it.unimi.dsi.bits"><code>LongArrayBitVector</code></a>s, each containing <a href="#CHUNK_SIZE"><code>CHUNK_SIZE</code></a> registers,
 and can thus handle billions of billions of registers efficiently (in turn, this means being able to
 handle an array of millions of billions of high-precision counters).

 <p>When creating an instance, you can choose the size of the array (i.e., the number of counters) and the desired relative standard deviation
 (either <a href="#%3Cinit%3E(int,long,int,double)">explicitly</a> or
 <a href="#%3Cinit%3E(int,long,int,double)">choosing the number of registers per counter</a>).
 Then, you can <a href="#add(int,int)">add an element to a counter</a>. At any time, you can
 <a href="#count(int)">count</a> count (approximately) the number of distinct elements that have been added to a counter.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>Paolo Boldi, Sebastiano Vigna</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../serialized-form.html#it.unimi.dsi.util.IntParallelCounterArray">Serialized Form</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected double</code></div>
<div class="col-second even-row-color"><code><a href="#base" class="member-name-link">base</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="../bits/LongArrayBitVector.html" title="class in it.unimi.dsi.bits">LongArrayBitVector</a>[]</code></div>
<div class="col-second odd-row-color"><code><a href="#bitVector" class="member-name-link">bitVector</a></code></div>
<div class="col-last odd-row-color">
<div class="block">A an array of bit vectors containing all registers.</div>
</div>
<div class="col-first even-row-color"><code>static final long</code></div>
<div class="col-second even-row-color"><code><a href="#CHUNK_MASK" class="member-name-link">CHUNK_MASK</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#CHUNK_SHIFT" class="member-name-link">CHUNK_SHIFT</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The logarithm of the maximum size in registers of a bit vector.</div>
</div>
<div class="col-first even-row-color"><code>static final long</code></div>
<div class="col-second even-row-color"><code><a href="#CHUNK_SIZE" class="member-name-link">CHUNK_SIZE</a></code></div>
<div class="col-last even-row-color">
<div class="block">The maximum size in registers of a bit vector.</div>
</div>
<div class="col-first odd-row-color"><code>protected final int</code></div>
<div class="col-second odd-row-color"><code><a href="#log2m" class="member-name-link">log2m</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The number of registers.</div>
</div>
<div class="col-first even-row-color"><code>protected final int</code></div>
<div class="col-second even-row-color"><code><a href="#m" class="member-name-link">m</a></code></div>
<div class="col-last even-row-color">
<div class="block">The number of registers.</div>
</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#MAX_EXPONENT" class="member-name-link">MAX_EXPONENT</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final int</code></div>
<div class="col-second even-row-color"><code><a href="#mMinus1" class="member-name-link">mMinus1</a></code></div>
<div class="col-last even-row-color">
<div class="block">The number of registers minus one.</div>
</div>
<div class="col-first odd-row-color"><code>protected final int</code></div>
<div class="col-second odd-row-color"><code><a href="#nodeShift" class="member-name-link">nodeShift</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The shift that selects the chunk corresponding to a node.</div>
</div>
<div class="col-first even-row-color"><code>protected final int</code></div>
<div class="col-second even-row-color"><code><a href="#registerMask" class="member-name-link">registerMask</a></code></div>
<div class="col-last even-row-color">
<div class="block">The mask corresponding to a register.</div>
</div>
<div class="col-first odd-row-color"><code>protected final it.unimi.dsi.fastutil.longs.LongBigList[]</code></div>
<div class="col-second odd-row-color"><code><a href="#registers" class="member-name-link">registers</a></code></div>
<div class="col-last odd-row-color">
<div class="block"><a href="#registerSize"><code>registerSize</code></a>-bit views of <a href="#bitVector"><code>bitVector</code></a>.</div>
</div>
<div class="col-first even-row-color"><code>protected final int</code></div>
<div class="col-second even-row-color"><code><a href="#registerSize" class="member-name-link">registerSize</a></code></div>
<div class="col-last even-row-color">
<div class="block">The size in bits of each register.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(int,long,double,double)" class="member-name-link">IntParallelCounterArray</a><wbr>(int&nbsp;arraySize,
 long&nbsp;n,
 double&nbsp;rsd,
 double&nbsp;floatingPointPrecision)</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a new array of counters.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(int,long,int,double)" class="member-name-link">IntParallelCounterArray</a><wbr>(int&nbsp;arraySize,
 long&nbsp;n,
 int&nbsp;log2m,
 double&nbsp;floatingPointPrecision)</code></div>
<div class="col-last odd-row-color">
<div class="block">Creates a new array of counters.</div>
</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(int,long,int,double,long)" class="member-name-link">IntParallelCounterArray</a><wbr>(int&nbsp;arraySize,
 long&nbsp;n,
 int&nbsp;log2m,
 double&nbsp;floatingPointPrecision,
 long&nbsp;seed)</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a new array of counters.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#add(int,int)" class="member-name-link">add</a><wbr>(int&nbsp;k,
 int&nbsp;v)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds an element to a counter.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#count(int)" class="member-name-link">count</a><wbr>(int&nbsp;k)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Estimates the number of distinct elements that have been added to a given counter so far.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#log2NumberOfRegisters(double)" class="member-name-link">log2NumberOfRegisters</a><wbr>(double&nbsp;rsd)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the logarithm of the number of registers per counter that are necessary to attain a
 given relative standard deviation.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#printMins()" class="member-name-link">printMins</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>it.unimi.dsi.fastutil.longs.LongBigList[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registers()" class="member-name-link">registers</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the array of big lists of registers underlying this array of counters.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#registerSize(long)" class="member-name-link">registerSize</a><wbr>(long&nbsp;n)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the register size in bits, given an upper bound on the number of distinct elements.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#relativeStandardDeviation(int)" class="member-name-link">relativeStandardDeviation</a><wbr>(int&nbsp;log2m)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the relative standard deviation corresponding to a given logarithm of the number of registers per counter.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="MAX_EXPONENT">
<h3>MAX_EXPONENT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">MAX_EXPONENT</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#it.unimi.dsi.util.IntParallelCounterArray.MAX_EXPONENT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="CHUNK_SHIFT">
<h3>CHUNK_SHIFT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">CHUNK_SHIFT</span></div>
<div class="block">The logarithm of the maximum size in registers of a bit vector.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#it.unimi.dsi.util.IntParallelCounterArray.CHUNK_SHIFT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="CHUNK_SIZE">
<h3>CHUNK_SIZE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">CHUNK_SIZE</span></div>
<div class="block">The maximum size in registers of a bit vector.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#it.unimi.dsi.util.IntParallelCounterArray.CHUNK_SIZE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="CHUNK_MASK">
<h3>CHUNK_MASK</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">CHUNK_MASK</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#it.unimi.dsi.util.IntParallelCounterArray.CHUNK_MASK">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="bitVector">
<h3>bitVector</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../bits/LongArrayBitVector.html" title="class in it.unimi.dsi.bits">LongArrayBitVector</a>[]</span>&nbsp;<span class="element-name">bitVector</span></div>
<div class="block">A an array of bit vectors containing all registers.</div>
</section>
</li>
<li>
<section class="detail" id="registers">
<h3>registers</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">it.unimi.dsi.fastutil.longs.LongBigList[]</span>&nbsp;<span class="element-name">registers</span></div>
<div class="block"><a href="#registerSize"><code>registerSize</code></a>-bit views of <a href="#bitVector"><code>bitVector</code></a>.</div>
</section>
</li>
<li>
<section class="detail" id="m">
<h3>m</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">m</span></div>
<div class="block">The number of registers.</div>
</section>
</li>
<li>
<section class="detail" id="log2m">
<h3>log2m</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">log2m</span></div>
<div class="block">The number of registers.</div>
</section>
</li>
<li>
<section class="detail" id="mMinus1">
<h3>mMinus1</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">mMinus1</span></div>
<div class="block">The number of registers minus one.</div>
</section>
</li>
<li>
<section class="detail" id="registerSize">
<h3>registerSize</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">registerSize</span></div>
<div class="block">The size in bits of each register.</div>
</section>
</li>
<li>
<section class="detail" id="registerMask">
<h3>registerMask</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">registerMask</span></div>
<div class="block">The mask corresponding to a register.</div>
</section>
</li>
<li>
<section class="detail" id="nodeShift">
<h3>nodeShift</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">nodeShift</span></div>
<div class="block">The shift that selects the chunk corresponding to a node.</div>
</section>
</li>
<li>
<section class="detail" id="base">
<h3>base</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">base</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(int,long,double,double)">
<h3>IntParallelCounterArray</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">IntParallelCounterArray</span><wbr><span class="parameters">(int&nbsp;arraySize,
 long&nbsp;n,
 double&nbsp;rsd,
 double&nbsp;floatingPointPrecision)</span></div>
<div class="block">Creates a new array of counters.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>arraySize</code> - the number of counters.</dd>
<dd><code>n</code> - the expected number of elements.</dd>
<dd><code>rsd</code> - the relative standard deviation.</dd>
<dd><code>floatingPointPrecision</code> - the precision used for floating-point computations.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(int,long,int,double)">
<h3>IntParallelCounterArray</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">IntParallelCounterArray</span><wbr><span class="parameters">(int&nbsp;arraySize,
 long&nbsp;n,
 int&nbsp;log2m,
 double&nbsp;floatingPointPrecision)</span></div>
<div class="block">Creates a new array of counters.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>arraySize</code> - the number of counters.</dd>
<dd><code>n</code> - the expected number of elements.</dd>
<dd><code>log2m</code> - the logarithm of the number of registers per counter.</dd>
<dd><code>floatingPointPrecision</code> - the precision used for floating-point computations.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(int,long,int,double,long)">
<h3>IntParallelCounterArray</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">IntParallelCounterArray</span><wbr><span class="parameters">(int&nbsp;arraySize,
 long&nbsp;n,
 int&nbsp;log2m,
 double&nbsp;floatingPointPrecision,
 long&nbsp;seed)</span></div>
<div class="block">Creates a new array of counters.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>arraySize</code> - the number of counters.</dd>
<dd><code>n</code> - the expected number of elements.</dd>
<dd><code>log2m</code> - the logarithm of the number of registers per counter.</dd>
<dd><code>floatingPointPrecision</code> - the precision used for floating-point computations.</dd>
<dd><code>seed</code> - the seed used to compute the hash function</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="log2NumberOfRegisters(double)">
<h3>log2NumberOfRegisters</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">log2NumberOfRegisters</span><wbr><span class="parameters">(double&nbsp;rsd)</span></div>
<div class="block">Returns the logarithm of the number of registers per counter that are necessary to attain a
 given relative standard deviation.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rsd</code> - the relative standard deviation to be attained.</dd>
<dt>Returns:</dt>
<dd>the logarithm of the number of registers that are necessary to attain relative standard deviation <code>rsd</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="relativeStandardDeviation(int)">
<h3>relativeStandardDeviation</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">relativeStandardDeviation</span><wbr><span class="parameters">(int&nbsp;log2m)</span></div>
<div class="block">Returns the relative standard deviation corresponding to a given logarithm of the number of registers per counter.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>log2m</code> - the logarithm of the number of registers.</dd>
<dt>Returns:</dt>
<dd>the resulting relative standard deviation.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerSize(long)">
<h3>registerSize</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">registerSize</span><wbr><span class="parameters">(long&nbsp;n)</span></div>
<div class="block">Returns the register size in bits, given an upper bound on the number of distinct elements.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>n</code> - an upper bound on the number of distinct elements.</dd>
<dt>Returns:</dt>
<dd>the register size in bits.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="add(int,int)">
<h3>add</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">add</span><wbr><span class="parameters">(int&nbsp;k,
 int&nbsp;v)</span></div>
<div class="block">Adds an element to a counter.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>k</code> - the index of the counter.</dd>
<dd><code>v</code> - the element to be added.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="printMins()">
<h3>printMins</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">printMins</span>()</div>
</section>
</li>
<li>
<section class="detail" id="registers()">
<h3>registers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">it.unimi.dsi.fastutil.longs.LongBigList[]</span>&nbsp;<span class="element-name">registers</span>()</div>
<div class="block">Returns the array of big lists of registers underlying this array of counters.

 <p>The main purpose of this method is debugging, as it makes comparing
 the evolution of the state of two implementations easy.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the array of big lists of registers underlying this array of counters.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="count(int)">
<h3>count</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">count</span><wbr><span class="parameters">(int&nbsp;k)</span></div>
<div class="block">Estimates the number of distinct elements that have been added to a given counter so far.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>k</code> - the index of the counter.</dd>
<dt>Returns:</dt>
<dd>an approximation of the number of distinct elements that have been added to counter <code>k</code> so far.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
